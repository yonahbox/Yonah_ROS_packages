<launch>

	<!-- Common OGC args -->
	<arg name="log_output" default="screen" />
	<arg name="interval_1" default="10"/>
    <arg name="interval_2" default="60"/>
	<arg name="interval_3" default="1"/>
	<arg name="router_hostname" default="root@192.168.1.1" />
	
	<!-- sms args -->
	<arg name="whitelist" default="$(find sms)/src/whitelist.txt"/>
	<arg name="client_phone_no" default="'12345678'"/>

	<!-- tele args -->
	<arg name="tdlib_auth_dir" default="/home/ubuntu/.tdlib"/>
	<arg name="monitored_chat" default="tele_link_grp" />
	<arg name="command_whitelist" default="[Rumesh,Lau]" />

	<!-- sbd args -->
    <arg name="portID" default="/dev/ttyUSB0"/>
    <arg name="own_serial" default="12345"/>
    <arg name="client_serial" default="12345"/>

	<!-- rff args -->
	<arg name="waypoint_folder" default="/home/ubuntu/Yonah_ROS_packages/Waypoints/"/>

	<!-- tele link node -->
	<node pkg="telegram" type="telegram_link" name="telegram_link" 
	respawn="true" respawn_delay="3" output="$(arg log_output)" >
		<param name="monitored_chat" value="$(arg monitored_chat)" />
		<param name="tdlib_auth_dir" value="$(arg tdlib_auth_dir)" />
		<rosparam param="command_whitelist" subst_value="True">$(arg command_whitelist)</rosparam>
	</node>

	<!-- sms_link node -->
    <node pkg="sms" type="sms_link.py" name="sms_link"
    respawn="true" respawn_delay="3" output="$(arg log_output)">
        <param name="whitelist" value="$(arg whitelist)" />
        <param name="router_hostname" value = "$(arg router_hostname)"/>
        <param name="client_phone_no" value="$(arg client_phone_no)" />
    </node>
	
	<!-- sbd link node -->
    <node pkg="sbd" type="sbd_air_link.py" name="sbd_air_link"
    respawn="true" respawn_delay="3" output="$(arg log_output)">
        <param name="portID" value="$(arg portID)" />
        <param name="own_serial" value="$(arg own_serial)" />
        <param name="client_serial" value="$(arg client_serial)" />
        <param name="interval" value="$(arg interval_3)" />
    </node>

	<!-- air despatcher node -->
	<node pkg="despatcher" type="air_despatcher.py" name="air_despatcher" 
	respawn="true" respawn_delay="3" output="$(arg log_output)">
		<param name="interval_1" value="$(arg interval_1)" />
		<param name="interval_2" value="$(arg interval_2)" />
	</node>

	<!-- air statustext handler node -->
	<node pkg="statustext" type="air_statustext.py" name="air_statustext" 
	respawn="true" respawn_delay="3" output="$(arg log_output)">
	</node>

	<!-- rff node -->
	<node pkg="rff" name="rff" type="rff.py" output="$(arg log_output)">
		<param name="router_hostname" value="$(arg router_hostname)"/>
		<param name="waypoint_folder" value="$(arg waypoint_folder)"/>
	</node>

</launch>
