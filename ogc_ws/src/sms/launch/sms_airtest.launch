<!-- launch file for Yonah main SMS Telemetry Node on Bone as a standalone (for testing purposes)-->

<launch>

    <!-- please fill in the phone no of the client (e.g. if running this on air, fill in ground phone no,
     and vice versa). Enclose it in '' to recognise it as a string (instead of int)-->
    <!-- <arg name="client_phone_no" default="'12345678'"/> -->

    <!-- phone numbers authorized to send commands to aircraft. Whitelist should be in same folder as nodes-->
    <!-- <arg name="whitelist" default="$(find sms)/src/whitelist.txt"/> -->
    <arg name="identifiers_file" default="/home/rumesh/codes/test_identifiers_2.json" />
    <arg name="ground_ids" default="[1]" />
    <arg name="self_id" default="1" />
    <arg name="is_air" default="True" />

    <!--Various regular payload intervals in seconds-->
    <arg name="interval_1" default="10"/>
    <arg name="interval_2" default="60"/>

    <!-- screen = output to roslaunch screen for debug; log = log to rosout-->
    <arg name="log_output" default="screen"/>

    <!-- hostname and IP of onboard cellular router -->
    <arg name="router_username" default="'root'" />
    <arg name="router_ip" default="'192.168.1.1'" />

    <!-- sms_link node -->
    <node pkg="sms" type="sms_link.py" name="sms_link"
    respawn="true" respawn_delay="3" output="$(arg log_output)">
        <param name="identifiers_file" value="$(arg identifiers_file)" />
        <param name="is_air" value="$(arg is_air)" />
        <param name="self_id" value="$(arg self_id)" />
        <rosparam param="valid_ids" subst_value="True">$(arg ground_ids)</rosparam>
        
        <param name="router_username" value="$(arg router_username)" />
        <param name="router_ip" value="$(arg router_ip)" />
    </node>

    <!-- air_despatcher node -->
    <node pkg="despatcher" type="air_despatcher.py" name="air_despatcher"
    respawn="true" respawn_delay="3" output="$(arg log_output)">
        <rosparam param="ground_ids" subst_value="True">$(arg ground_ids)</rosparam>x
        <param name="interval_1" value="$(arg interval_1)" />
        <param name="interval_2" value="$(arg interval_2)" />
    </node>

</launch>
